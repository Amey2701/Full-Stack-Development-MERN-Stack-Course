<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Hair › Hair Care</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    /* Custom scrollbar for filters categories */
    .scrollbar-thin::-webkit-scrollbar {
      width: 6px;
    }
    .scrollbar-thin::-webkit-scrollbar-thumb {
      background-color: #94a3b8;
      border-radius: 3px;
    }
    .scrollbar-thin {
      scrollbar-width: thin;
      scrollbar-color: #94a3b8 transparent;
    }
    /* Ellipses for longer text */
    .line-clamp-2 {
      display: -webkit-box;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical;  
      overflow: hidden;
    }
    /* Card Hover Glow */
    .product-card:hover {
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
      transition: box-shadow 0.3s ease-in-out;
    }
  </style>
</head>
<body class="bg-slate-50 min-h-screen flex flex-col font-sans">

  <!-- Top Navigation -->
  <header class="bg-slate-100 py-2 px-4 border-b border-slate-300 select-none">
    <nav class="container mx-auto flex flex-wrap gap-3 text-xs text-slate-700 font-medium items-center justify-center md:justify-start">
      <a href="#" class="hover:text-teal-600">Covid Essentials</a>
      <a href="#" class="hover:text-teal-600">Diabetes</a>
      <a href="#" class="hover:text-teal-600">Cardiac Care</a>
      <a href="#" class="hover:text-teal-600">Stomach Care</a>
      <a href="#" class="hover:text-teal-600">Ayurvedic</a>
      <a href="#" class="hover:text-teal-600">Homeopathy</a>
      <a href="#" class="hover:text-teal-600">Fitness</a>
      <a href="#" class="hover:text-teal-600">Mom & Baby</a>
      <a href="#" class="hover:text-teal-600">Devices</a>
      <a href="#" class="hover:text-teal-600">Surgicals</a>
      <a href="#" class="hover:text-teal-600">Sexual Wellness</a>
      <a href="#" class="hover:text-teal-600">Treatments</a>
      <a href="#" class="hover:text-teal-600">Skin Care</a>
      <a href="#" class="hover:text-teal-600">Personal Care</a>
    </nav>
  </header>

  <!-- Page Main Wrapper -->
  <main class="container mx-auto flex flex-col md:flex-row gap-6 mt-4 flex-grow">

    <!-- Left Side Categories & Filters -->
    <aside class="w-full md:w-72 flex flex-col gap-6 sticky top-4 h-fit">
      <!-- Breadcrumb -->
        <nav class="w-full text-teal-700 text-sm font-medium" aria-label="Breadcrumb">
          <ol class="flex flex-row flex-nowrap items-center gap-1">
            <li class="flex items-center gap-1">
              <a href="#" class="hover:underline">Home</a>
              <span>›</span>
            </li>
            <li class="flex items-center gap-1">
              <a href="#" class="hover:underline">Non-Prescription</a>
              <span>›</span>
            </li>
            <li class="flex items-center gap-1">
              <a href="#" class="hover:underline">Hair</a>
              <span>›</span>
            </li>
            <li class="flex items-center gap-1 text-teal-900 font-semibold">
              Hair Care
            </li>
          </ol>
        </nav>

      <!-- Categories Section -->
      <section aria-label="Categories" class="bg-white rounded-md shadow overflow-hidden py-4 px-4">
        <h2 class="font-semibold text-slate-800 mb-3 border-b border-slate-300 pb-2">Categories</h2>
        <div class="max-h-64 overflow-y-auto scrollbar-thin pr-1">
          <div>
            <button aria-expanded="true" aria-controls="fragMenu" class="flex items-center w-full text-left text-slate-800 font-semibold mb-1 focus:outline-none" id="fragHeading">
              <svg class="mr-2 h-4 w-4 fill-current transition-transform" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8 9l4 4 4-4"/></svg>
              Hair

            </button>
            <ul id="fragMenu" class="pl-6 text-sm text-slate-600 space-y-0.5" role="region" aria-labelledby="fragHeading">
              <li><a href="#" class="hover:underline" >Hair Styling</a></li>
              <li><a href="#" class="hover:underline">Hair Color</a></li>
              <li><a href="#" class="hover:underline">Scalp Treatments</a></li>
               <li><a href="#" class="hover:underline">Shop By Hair Type</a></li>
                <li><a href="#" class="hover:underline font-semibold text-teal-700">Hair Care</a></li>
                 <li><a href="#" class="hover:underline">Hair Tools & Accessories</a></li>

            </ul>
          </div>
          <div>
            <button aria-expanded="false" aria-controls="makeupMenu" class="flex w-full items-center justify-between text-left text-slate-700 font-semibold border-t border-slate-200 py-1 focus:outline-none">
              <span>Make-Up</span>
              <svg class="h-4 w-4 fill-current transition-transform" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8 15l4-4 4 4"/></svg>
            </button>
          </div>
          <div>
            <button aria-expanded="false" aria-controls="hairMenu" class="flex w-full items-center justify-between text-left text-slate-700 font-semibold border-t border-slate-200 py-1 focus:outline-none">
              <span>Hair</span>
              <svg class="h-4 w-4 fill-current transition-transform" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8 15l4-4 4 4"/></svg>
            </button>
          </div>
          <!-- More categories can be added similarly -->
        </div>
      </section>

      <!-- Filters Section -->
      <section aria-label="Filters" class="bg-white rounded-md shadow py-4 px-4 overflow-y-auto scrollbar-thin max-h-[70vh]">
        <h2 class="font-semibold text-slate-800 mb-3 border-b border-slate-300 pb-2">Filters</h2>

        <!-- Brands Filter -->
        <div class="mb-5">
          <h3 class="font-semibold mb-2">Brands</h3>
          <div class="relative text-slate-600 mb-2">
            <input type="search" id="brand-search" placeholder="Search..." class="w-full border border-slate-300 rounded-md pl-8 pr-3 py-1 focus:outline-none focus:ring-1 focus:ring-teal-500 focus:border-teal-500" aria-label="Search brands" />
            <svg class="absolute left-2 top-2.5 h-4 w-4 fill-current text-slate-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/></svg>
          </div>
          <div class="max-h-48 overflow-y-auto scrollbar-thin pl-1 text-sm text-slate-700 space-y-2 border border-slate-200 rounded-md px-3 py-2">
            <!-- Brand checkboxes will be dynamically inserted here -->

                <div><label><input type="checkbox" class="brand-checkbox mr-2" value="Amazon Series" />Amazon Series (12)</label></div>
                <div><label><input type="checkbox" class="brand-checkbox mr-2" value="Aroma Magic" />Aroma Magic (15)</label></div>
                <div><label><input type="checkbox" class="brand-checkbox mr-2" value="Barcode Professional" />Barcode Professional (21)</label></div>
                <div><label><input type="checkbox" class="brand-checkbox mr-2" value="Beauty Garage" />Beauty Garage (74)</label></div>
                <div><label><input type="checkbox" class="brand-checkbox mr-2" value="Biotique" />Biotique (18)</label></div>
                <div><label><input type="checkbox" class="brand-checkbox mr-2" value="Biotop Professional" />Biotop Professional (15)</label></div>
                <div><label><input type="checkbox" class="brand-checkbox mr-2" value="Clinic Plus" />Clinic Plus (20)</label></div>
                <div><label><input type="checkbox" class="brand-checkbox mr-2" value="Dabur" />Dabur (43)</label></div>
                <div><label><input type="checkbox" class="brand-checkbox mr-2" value="Depot" />Depot (13)</label></div>
                <div><label><input type="checkbox" class="brand-checkbox mr-2" value="Dove" />Dove (75)</label></div>
                <div><label><input type="checkbox" class="brand-checkbox mr-2" value="Dr Batra's" />Dr Batra's (99)</label></div>
                <div><label><input type="checkbox" class="brand-checkbox mr-2" value="Dr. Batra'S" />Dr. Batra'S (13)</label></div>
                <div><label><input type="checkbox" class="brand-checkbox mr-2" value="Emami" />Emami (14)</label></div>
                <div><label><input type="checkbox" class="brand-checkbox mr-2" value="Evoluderm" />Evoluderm (11)</label></div>
                <div><label><input type="checkbox" class="brand-checkbox mr-2" value="Fabessentials" />Fabessentials (12)</label></div>
                <div><label><input type="checkbox" class="brand-checkbox mr-2" value="Fixderma" />Fixderma (15)</label></div>
                <div><label><input type="checkbox" class="brand-checkbox mr-2" value="Giovanni" />Giovanni (16)</label></div>
                <div><label><input type="checkbox" class="brand-checkbox mr-2" value="Godrej Professional" />Godrej Professional (12)</label></div>
                <div><label><input type="checkbox" class="brand-checkbox mr-2" value="Hask" />Hask (20)</label></div>
                <div><label><input type="checkbox" class="brand-checkbox mr-2" value="Head & Shoulders" />Head & Shoulders (48)</label></div>
                <div><label><input type="checkbox" class="brand-checkbox mr-2" value="Himalaya" />Himalaya (38)</label></div>
                <div><label><input type="checkbox" class="brand-checkbox mr-2" value="Indulekha" />Indulekha (13)</label></div>
                <div><label><input type="checkbox" class="brand-checkbox mr-2" value="Kesh King" />Kesh King (12)</label></div>
                <div><label><input type="checkbox" class="brand-checkbox mr-2" value="Khadi Organique" />Khadi Organique (25)</label></div>
                <div><label><input type="checkbox" class="brand-checkbox mr-2" value="Khadi Pure" />Khadi Pure (19)</label></div>
                <div><label><input type="checkbox" class="brand-checkbox mr-2" value="Khadi Veda" />Khadi Veda (15)</label></div>
                <div><label><input type="checkbox" class="brand-checkbox mr-2" value="Kleral" />Kleral (21)</label></div>
                <div><label><input type="checkbox" class="brand-checkbox mr-2" value="Kt Professional" />Kt Professional (18)</label></div>
                <div><label><input type="checkbox" class="brand-checkbox mr-2" value="Ktein" />Ktein (14)</label></div>
                <div><label><input type="checkbox" class="brand-checkbox mr-2" value="Kundal" />Kundal (20)</label></div>
                <div><label><input type="checkbox" class="brand-checkbox mr-2" value="Love Beauty & Planet" />Love Beauty & Planet (14)</label></div>
                <div><label><input type="checkbox" class="brand-checkbox mr-2" value="L’Oreal Paris" />L’Oreal Paris (18)</label></div>
                <div><label><input type="checkbox" class="brand-checkbox mr-2" value="Mades" />Mades (32)</label></div>
                <div><label><input type="checkbox" class="brand-checkbox mr-2" value="Mamaearth" />Mamaearth (42)</label></div>
                <div><label><input type="checkbox" class="brand-checkbox mr-2" value="Manestream" />Manestream (22)</label></div>
                <div><label><input type="checkbox" class="brand-checkbox mr-2" value="Marc Anthony" />Marc Anthony (14)</label></div>
                <div><label><input type="checkbox" class="brand-checkbox mr-2" value="Milk Baobab" />Milk Baobab (12)</label></div>
                <div><label><input type="checkbox" class="brand-checkbox mr-2" value="Ogx" />Ogx (17)</label></div>
                <div><label><input type="checkbox" class="brand-checkbox mr-2" value="Pantene" />Pantene (45)</label></div>
                <div><label><input type="checkbox" class="brand-checkbox mr-2" value="Patanjali" />Patanjali (16)</label></div>
                <div><label><input type="checkbox" class="brand-checkbox mr-2" value="Pattern" />Pattern (18)</label></div>
                <div><label><input type="checkbox" class="brand-checkbox mr-2" value="Petal Fresh" />Petal Fresh (16)</label></div>
                <div><label><input type="checkbox" class="brand-checkbox mr-2" value="Rosa" />Rosa (12)</label></div>
                <div><label><input type="checkbox" class="brand-checkbox mr-2" value="Sbl" />Sbl (12)</label></div>
                <div><label><input type="checkbox" class="brand-checkbox mr-2" value="Sunsilk" />Sunsilk (33)</label></div>
                <div><label><input type="checkbox" class="brand-checkbox mr-2" value="Tresemme" />Tresemme (23)</label></div>
                <div><label><input type="checkbox" class="brand-checkbox mr-2" value="Trichup" />Trichup (25)</label></div>
                <div><label><input type="checkbox" class="brand-checkbox mr-2" value="Wella Professionals" />Wella Professionals (18)</label></div>
                <div><label><input type="checkbox" class="brand-checkbox mr-2" value="Wow" />Wow (26)</label></div>
                <div><label><input type="checkbox" class="brand-checkbox mr-2" value="Yves Rocher" />Yves Rocher (18)</label></div>

            
          </div>
        </div>

        <!-- Price Filter -->
        <div class="mb-4">
          <h3 class="font-semibold mb-2">Price Range (₹)</h3>
          <div class="flex gap-2">
            <input type="number" id="price-min" placeholder="Min" class="w-20 border border-slate-300 rounded-md px-2 py-1 text-sm focus:outline-none focus:ring-1 focus:ring-teal-500" min="0"/>
            <input type="number" id="price-max" placeholder="Max" class="w-20 border border-slate-300 rounded-md px-2 py-1 text-sm focus:outline-none focus:ring-1 focus:ring-teal-500" min="0"/>
          </div>
        </div>

        <!-- Discount Filter -->
        <div class="mb-4">
          <h3 class="font-semibold mb-2">Minimum Discount (%)</h3>
          <input type="number" id="discount-min" placeholder="e.g. 10" min="0" max="100" class="w-20 border border-slate-300 rounded-md px-2 py-1 text-sm focus:outline-none focus:ring-1 focus:ring-teal-500"/>
        </div>

        <!-- Availability Filter -->
        <div>
          <label class="inline-flex items-center space-x-2 text-sm text-slate-800 font-semibold">
            <input type="checkbox" id="exclude-out-stock" />
            <span>Exclude out of stock</span>
          </label>
        </div>

        <!-- Clear filters button -->
        <button id="clear-filters" type="button" class="mt-4 bg-teal-600 hover:bg-teal-700 text-white px-3 py-1 rounded-md text-sm w-full font-semibold">Clear Filters</button>
      </section>
    </aside>

    <!-- Main Content: Banner, Sorting, Products -->
    <section class="flex-1 flex flex-col gap-5">
      <!-- Banner -->
      <div aria-label="Product banner" class="bg-white rounded-md shadow h-40 flex items-center justify-center overflow-hidden">
        <img 
          src="https://www.netmeds.com/images/cms/aw_rbslider/slides/1600087526_VLCC_category_web.jpg" 
          alt="Elegant perfume bottles for women fragrance displayed in a row on white background with soft shadows" 
          class="object-contain h-full"
          onerror="this.style.display='none'" 
        />
      </div>

      <!-- Showing & Sort -->
      <div class="flex flex-col md:flex-row justify-between items-center text-sm text-slate-700 font-semibold gap-3">
        <div>
          Showing <span id="shown-count">20</span> of <span id="total-count">651</span> items
        </div>
        <div class="flex gap-2 items-center flex-wrap justify-center md:justify-start">
          <span>Sort by:</span>
          <button type="button" class="sort-btn px-3 py-1 rounded-full border border-teal-500 text-teal-600 font-semibold" data-sort="popularity" aria-pressed="true">Popularity</button>
          <button type="button" class="sort-btn px-3 py-1 rounded-full border border-slate-300 text-slate-600 font-semibold" data-sort="high-to-low" aria-pressed="false">High to Low</button>
          <button type="button" class="sort-btn px-3 py-1 rounded-full border border-slate-300 text-slate-600 font-semibold" data-sort="low-to-high" aria-pressed="false">Low to High</button>
          <button type="button" class="sort-btn px-3 py-1 rounded-full border border-slate-300 text-slate-600 font-semibold" data-sort="discount" aria-pressed="false">Discount</button>
        </div>
      </div>

      <!-- All products container -->
      <div id="products-container" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-5">
        <!-- Product cards will be inserted dynamically here -->
      </div>

      <!-- Pagination -->
      <nav aria-label="Pagination" class="flex justify-center items-center mt-8 mb-12 space-x-3 select-none">
        <button id="prev-page" class="px-3 py-1 border border-slate-300 rounded hover:bg-slate-200 disabled:opacity-50" disabled>Prev</button>
        <div id="page-numbers" class="flex space-x-2 font-semibold text-slate-700"></div>
        <button id="next-page" class="px-3 py-1 border border-slate-300 rounded hover:bg-slate-200">Next</button>
      </nav>

      <!-- Footer-like area with text info -->
      <article aria-label="Informational Content" class="bg-white rounded-md shadow p-4 mb-10 text-slate-800 max-w-7xl mx-auto leading-relaxed space-y-4 text-sm">
        <h2 class="font-bold text-lg">Hair Care</h2>
        <p>In ancient India, beautiful hair has been prized throughout history. Ayurvedic physicians would gather the herbs or roots for hair treatments, which included Brahmi plant leaves, jatamansi, amla, and areetha. The physicians then prepared herbal pastes, which were warmed and preserved in copper jars, imparting nutritious characteristics to the oil. Today, the elements are still considered vital for hair health. An important regimen that you must consider is hair care. Discovering hair care treatments for you, whether it's a hair dryer that provides a blowout, an oil or serum that makes hair care simple, or a thickening treatment that adds fullness and volume, makes all the difference.</p>

        <p>It’s time to put your best mane forward, and pick from a range of hair care products:</p>

        <h3 class="font-semibold text-md">Hair Cream</h3>
        <p>Some experts suggest letting the hair soak up the cream as part of your post-wash routine. The cream will be absorbed quickly and readily by your shafts and lift the quality of your hair.</p>

        <h3 class="font-semibold text-md">Shampoo</h3>
        <p>A coin-sized quantity of shampoo is enough. The more shampoo you use, the more water you need to rinse it away. Additionally, always lather before massaging in the right places, including your roots and scalp.</p>

        <h3 class="font-semibold text-md">Hair Masks</h3>
        <p>Hair masks condition your hair. While more expensive than other hair care products, they double up and nourish your hair. As a weekly habit, replacing your conditioner with a mask can improve the quality of your hair.</p>

        <h3 class="font-semibold text-md">Shower Comb</h3>
        <p>Wet hair is prone to breakage. Use a wide-toothed comb to untangle your hair after a head wash and before exiting the shower to avoid causing significant damage. Always brush from the bottom up, whether in or out of the shower and work through the strands to ease the knots from the bottom.</p>

        <h3 class="font-semibold text-md">Wrap Up</h3>
        <p>Hair care, like most other aspects of beauty, is individualised. Embrace your hair and make some switches in your hair routine to see the difference. You can select from a broad array of hair care products online that can be delivered to your doorstep.</p>

        <h2 class="font-bold text-lg">FAQs</h2>

        <h4 class="font-semibold">Why is hair care important?</h4>
        <p>Hair care supports the health of your scalp and strands. It helps prevent breakage, dryness, and dullness. A good hair routine strengthens hair and enhances natural texture and shine.</p>

        <h4 class="font-semibold">What is the best way to maintain healthy hair?</h4>
        <p>Use gentle products suited to your hair type, avoid excessive heat styling, use conditioner or hair masks weekly, and protect your hair from environmental damage like sun and pollution.</p>

        <h4 class="font-semibold">Shop by Top Manufacturers</h4>
        <p>
            <a href="#" class="text-teal-700 hover:underline">Gardenia Cosmocare Pvt Ltd</a> | 
            <a href="#" class="text-teal-700 hover:underline">GLIDE ROUTE VENTURES LLP</a> | 
            <a href="#" class="text-teal-700 hover:underline">Ktein Biotech Private Limited</a> | 
            <a href="#" class="text-teal-700 hover:underline">Seema Enterprises</a> | 
            <a href="#" class="text-teal-700 hover:underline">Henkel Adhesives Technologies India Private Limited</a>
        </p>

        <h4 class="font-semibold">Offline Stores</h4>
        <p>
            <span class="font-medium">1000+ Offline Stores</span><br>
            <span class="font-medium">PAN India delivery</span>
        </p>
      </article>
    </section>

  </main>

  <!-- Cart modal/popup -->
  <div id="cart-modal" class="fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center hidden z-50 p-4">
    <div class="bg-white rounded-lg w-full max-w-md max-h-[90vh] overflow-y-auto relative shadow-lg">
      <header class="p-4 border-b border-slate-300 flex justify-between items-center">
        <h2 class="text-lg font-semibold text-slate-900">Your Cart (<span id="cart-count">0</span>)</h2>
        <button id="close-cart" aria-label="Close cart" class="text-slate-700 hover:text-teal-600 font-bold">&times;</button>
      </header>
      <div id="cart-items" class="p-4 flex flex-col gap-4 min-h-[120px] max-h-[400px] overflow-y-auto text-sm text-slate-800">
        <p class="text-center text-slate-500" id="empty-cart-msg">Your cart is empty.</p>
      </div>
      <footer class="p-4 border-t border-slate-300 flex items-center justify-between">
        <div>
          <strong>Total:</strong> ₹ <span id="cart-total">0.00</span>
        </div>
        <button id="checkout-btn" class="bg-teal-600 hover:bg-teal-700 rounded px-4 py-2 text-white font-semibold disabled:opacity-50" disabled>Checkout</button>
      </footer>
    </div>
  </div>

  <!-- Floating Cart Button -->
  <button id="cart-btn" aria-label="Open Cart" class="fixed bottom-8 right-8 bg-teal-600 p-4 rounded-full shadow-lg text-white hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-teal-400">
    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l3-8H6.4M7 13l-2 5m5-5v6m4-6v6m4-6v6M16 21a1 1 0 11-2 0 1 1 0 012 0zM7 21a1 1 0 10-2 0 1 1 0 002 0z"/></svg>
    <span id="cart-badge" class="absolute top-0 right-0 bg-red-600 rounded-full text-xs px-1.5 py-0.5 -mt-1 -mr-1 font-bold hidden"></span>
  </button>

  <script>
    (() => {
      // Sample product data array
      const allProducts = [
        {
          id: 1,
          name: "Pro360 Hair Grow Nutritional Powder - Chocolate Flavour 250 gm",
          brand: "Pro360",
          category: ["Hair Care", "Hair Treatment"],
          price: 420.00,
          originalPrice: 525.00,
          discountPercent: 20,
          image: "https://www.netmeds.com/images/product-v1/150x150/889019/pro360_hair_grow_nutritional_powder_chocolate_flavour_250_gm_0_2.jpg",
          market: "GMN HEALTHCARE PRIVATE LTD",
          stock: true,
          popularity: 0
        },
        {
          id: 2,
          name: "Bold Care Apple Cider Vinegar and Caffeine DHT Blocker Shampoo - For Men 200 ml",
          brand: "Bold Care",
          category: ["Hair Care", "Hair"],
          price: 289.00,
          originalPrice: 500.00,
          discountPercent: 42,
          image: "https://www.netmeds.com/images/product-v1/150x150/959468/bold_care_apple_cider_vinegar_and_caffeine_dht_blocker_shampoo_for_men_200_ml_207278_0_1.jpg",
          market: "Oddity Healthcare Pvt. Ltd",
          stock: true,
          popularity: 0
        },
        {
          id: 3,
          name: "Bold Care Ketoconazole and Zinc Pyrithione Anti Dandruff Shampoo - For Men 200 ml",
          brand: "Bold Care",
          category: ["Hair Care", "Hair"],
          price: 300.70,
          originalPrice: 599.00,
          discountPercent: 50,
          image: "https://www.netmeds.com/images/product-v1/150x150/959469/bold_care_ketoconazole_and_zinc_pyrithione_anti_dandruff_shampoo_for_men_200_ml_207286_0_2.jpg",
          market: "Oddity Healthcare Pvt. Ltd",
          stock: true,
          popularity: 0
        },
        {
          id: 4,
          name: "SEBAMED ANTI DANDRUFF Shampoo 200ml",
          brand: "Sebamed",
          category: ["Hair Care", "Hair"],
          price: 584.80,
          originalPrice: 680.00,
          discountPercent: 14,
          image: "https://www.netmeds.com/images/product-v1/150x150/21054/sebamed_anti_dandruff_shampoo_200ml_0_0.jpg",
          market: "Usv Private Ltd",
          stock: true,
          popularity: 0
        },
        {
          id: 5,
          name: "Scalpe Plus Anti Dandruff Shampoo 75 ml",
          brand: "Scalpe Plus",
          category: ["Hair Care", "Otc Deals"],
          price: 271.76,
          originalPrice: 335.50,
          discountPercent: 19,
          image: "https://www.netmeds.com/images/product-v1/150x150/362506/scalpe_plus_anti_dandruff_shampoo_75_ml_0_1.jpg",
          market: "Glenmark Pharmaceuticals Ltd",
          stock: true,
          popularity: 0
        },
        {
          id: 6,
          name: "Indulekha Bringha Oil Grows New Hair 100 ml",
          brand: "Indulekha",
          category: ["Hair Care", "Hair Oils"],
          price: 471.96,
          originalPrice: 513.00,
          discountPercent: 8,
          image: "https://www.netmeds.com/images/product-v1/150x150/404896/indulekha_bringha_oil_grows_new_hair_100_ml_48276_0_2.jpg",
          market: "Hindustan Unilever Limited",
          stock: true,
          popularity: 0
        },
        {
          id: 7,
          name: "Sebamed Anti Hairloss Shampoo 200 ml",
          brand: "Sebamed",
          category: ["Hair Care", "Hair"],
          price: 740.00,
          discountPercent: 0,
          image: "https://www.netmeds.com/images/product-v1/150x150/1088095/sebamed_anti_hairloss_shampoo_200_ml_630498_0_0.jpg",
          market: "Usv Private Ltd",
          stock: true,
          popularity: 0
        },
        {
          id: 8,
          name: "Bioderma Node Ds+ Shampooing Anti-Dandruff Intense Shampoo 125 ml",
          brand: "Bioderma",
          category: ["Hair Care", "Hair"],
          price: 1768.00,
          discountPercent: 0,
          image: "https://www.netmeds.com/images/product-v1/150x150/411658/bioderma_node_ds_shampooing_anti_dandruff_intense_shampoo_125_ml_53321_0_5.jpg",
          market: "Naos Skin Care India Pvt Ltd",
          stock: true,
          popularity: 0
        },
        {
          id: 9,
          name: "Triclenz Hair Cleanser 250 ml",
          brand: "Triclenz",
          category: ["Hair Care", "Hair"],
          price: 476.00,
          originalPrice: 595.00,
          discountPercent: 20,
          image: "https://www.netmeds.com/images/product-v1/150x150/915833/triclenz_hair_cleanser_250_ml_118330_0_5.jpg",
          market: "Torrent Pharmaceuticals Ltd",
          stock: true,
          popularity: 0
        },
        {
          id: 10,
          name: "SEBAMED PRO! VITAL Serum 30ml",
          brand: "Sebamed",
          category: ["Hair Care", "Hair Serums"],
          price: 2326.30,
          originalPrice: 2705.00,
          discountPercent: 14,
          image: "https://www.netmeds.com/images/product-v1/150x150/903807/sebamed_pro!_vital_serum_30ml_484724_0_0.jpg",
          market: "Usv Private Ltd",
          stock: true,
          popularity: 0
        },
        {
          id: 11,
          name: "Himalaya Anti Dandruff Hair Oil 100 Ml",
          brand: "Himalaya",
          category: ["Hair Care", "Hair Oils"],
          price: 155.20,
          originalPrice: 160.00,
          discountPercent: 3,
          image: "https://www.netmeds.com/images/product-v1/150x150/944059/himalaya_anti_dandruff_hair_oil_100_ml_0_0.jpg",
          market: "Himalaya Wellness Company",
          stock: true,
          popularity: 0
        },
        {
          id: 12,
          name: "VLCC Natural Sciences Hair Fall Control Shampoo - Onion & fenugreek 300 ml",
          brand: "VLCC",
          category: ["Hair Care", "Hair"],
          price: 460.00,
          discountPercent: 0,
          image: "https://www.netmeds.com/images/product-v1/150x150/944254/onion_methi_shampoo_300_ml_0_1.jpg",
          market: "VLCC Personal Care Ltd",
          stock: true,
          popularity: 0
        },
        {
          id: 13,
          name: "Kerala Ayurveda Kesini Oil 100 ml",
          brand: "Kerala Ayurveda",
          category: ["Hair Care", "Hair Oils"],
          price: 280.00,
          originalPrice: 350.00,
          discountPercent: 20,
          image: "https://www.netmeds.com/images/product-v1/150x150/825038/kerala_ayurveda_kesini_oil_100_ml_0.jpg",
          market: "Kerala Ayurveda Limited",
          stock: true,
          popularity: 0
        },
        {
          id: 14,
          name: "L'Oreal Paris 6 Oil Nourish Shampoo 82.5 ml",
          brand: "L'Oreal Paris",
          category: ["Hair Care", "Hair"],
          price: 80.10,
          originalPrice: 89.00,
          discountPercent: 10,
          image: "https://www.netmeds.com/images/product-v1/150x150/993296/loreal_paris_6_oil_nourish_shampoo_82_5_ml_573707_1_0.jpg",
          market: "Loreal India Pvt Ltd",
          stock: true,
          popularity: 0
        },
        {
          id: 15,
          name: "L'Oreal Paris 6 Oil Nourish Shampoo 704 Gm",
          brand: "L'Oreal Paris",
          category: ["Hair Care", "Hair"],
          price: 879.00,
          discountPercent: 0,
          image: "https://www.netmeds.com/images/product-v1/150x150/940270/loreal_paris_6_oil_nourish_shampoo_704_gm_185275_0_1.jpg",
          market: "Loreal India Pvt Ltd",
          stock: true,
          popularity: 0
        },
        {
          id: 16,
          name: "Mamaearth Rice Water Shampoo with Rice & Keratin For Damage Repair 250ml",
          brand: "Mamaearth",
          category: ["Hair Care", "Hair"],
          price: 349.00,
          discountPercent: 0,
          image: "https://www.netmeds.com/images/product-v1/150x150/1005358/mamaearth_rice_water_shampoo_250_ml_0_0.jpg",
          market: "Honasa Consumer Limited",
          stock: true,
          popularity: 0
        },
        {
          id: 17,
          name: "Mamaearth Onion Shampoo with Onion & Plant Keratin For Hair Fall Control 400ml",
          brand: "Mamaearth",
          category: ["Hair Care", "Hair"],
          price: 559.00,
          discountPercent: 0,
          image: "https://www.netmeds.com/images/product-v1/150x150/1005476/mamaearth_onion_shampoo_400_ml_0_0.jpg",
          market: "Honasa Consumer Limited",
          stock: true,
          popularity: 0
        },
        {
          id: 18,
          name: "Mamaearth Onion Hair Oil 250 ml",
          brand: "Mamaearth",
          category: ["Hair Care", "Hair Oils"],
          price: 599.00,
          discountPercent: 0,
          image: "https://www.netmeds.com/images/product-v1/150x150/1005472/mamaearth_onion_hair_oil_250_ml_0_0.jpg",
          market: "Honasa Consumer Limited",
          stock: true,
          popularity: 0
        },
        {
          id: 19,
          name: "Ustraa Hair Growth Vitalizer for Complete Care 100ml",
          brand: "Ustraa",
          category: ["Hair Care", "Hair Serums"],
          price: 799.00,
          discountPercent: 0,
          image: "https://www.netmeds.com/images/product-v1/150x150/907561/ustraa_hair_growth_vitalizer_for_men_100_ml_0_1.jpg",
          market: "Happily Unmarried Marketing Private Limited",
          stock: true,
          popularity: 0
        },
        {
          id: 20,
          name: "L'Oreal Paris Extraordinary Oil Nourishing Shampoo For Dry & Dull Hair - 340ml",
          brand: "L'Oreal Paris",
          category: ["Hair Care", "Hair"],
          price: 459.00,
          discountPercent: 0,
          image: "https://www.netmeds.com/images/product-v1/150x150/993298/loreal_paris_extraordinary_oil_nourishing_shampoo_for_dry_dull_hair_340ml_573709_0_2.jpg",
          market: "Loreal India Pvt Ltd",
          stock: true,
          popularity: 0
        }
      ];


      const PRODUCTS_PER_PAGE = 12;

      // Internal state for filters and sort
      let filters = {
        brands: new Set(),
        priceMin: null,
        priceMax: null,
        discountMin: 0,
        excludeOutStock: false,
      };
      let currentSort = "popularity"; // popularity, high-to-low, low-to-high, discount
      let currentPage = 1;

      // Cart State
      let cart = {};

      // Elements
      const productsContainer = document.getElementById("products-container");
      const brandSearchInput = document.getElementById("brand-search");
      const brandCheckboxes = document.querySelectorAll(".brand-checkbox");
      const priceMinInput = document.getElementById("price-min");
      const priceMaxInput = document.getElementById("price-max");
      const discountMinInput = document.getElementById("discount-min");
      const excludeOutStockCheckbox = document.getElementById("exclude-out-stock");
      const clearFiltersBtn = document.getElementById("clear-filters");
      const shownCountEl = document.getElementById("shown-count");
      const totalCountEl = document.getElementById("total-count");
      const sortButtons = document.querySelectorAll(".sort-btn");
      const prevPageBtn = document.getElementById("prev-page");
      const nextPageBtn = document.getElementById("next-page");
      const pageNumbersContainer = document.getElementById("page-numbers");
      const cartBtn = document.getElementById("cart-btn");
      const cartModal = document.getElementById("cart-modal");
      const closeCartBtn = document.getElementById("close-cart");
      const cartItemsContainer = document.getElementById("cart-items");
      const cartCountEl = document.getElementById("cart-count");
      const cartBadge = document.getElementById("cart-badge");
      const cartTotalEl = document.getElementById("cart-total");
      const emptyCartMsg = document.getElementById("empty-cart-msg");
      const checkoutBtn = document.getElementById("checkout-btn");

      // Utility Functions
      function sortProducts(products, sortKey) {
        const sorted = [...products];
        switch (sortKey) {
          case "popularity":
            sorted.sort((a, b) => b.popularity - a.popularity);
            break;
          case "high-to-low":
            sorted.sort((a, b) => b.price - a.price);
            break;
          case "low-to-high":
            sorted.sort((a, b) => a.price - b.price);
            break;
          case "discount":
            sorted.sort((a, b) => (b.discountPercent || 0) - (a.discountPercent || 0));
            break;
          default:
            break;
        }
        return sorted;
      }

      function filterProducts(products) {
        return products.filter((prod) => {
          if (filters.brands.size > 0 && !filters.brands.has(prod.brand)) return false;
          if (filters.priceMin !== null && prod.price < filters.priceMin) return false;
          if (filters.priceMax !== null && prod.price > filters.priceMax) return false;
          if ((prod.discountPercent || 0) < filters.discountMin) return false;
          if (filters.excludeOutStock && !prod.stock) return false;
          return true;
        });
      }

      function paginateProducts(products, page) {
        const start = (page - 1) * PRODUCTS_PER_PAGE;
        return products.slice(start, start + PRODUCTS_PER_PAGE);
      }

      function updateSortButtons() {
        sortButtons.forEach(btn => {
          const pressed = btn.dataset.sort === currentSort;
          btn.setAttribute("aria-pressed", pressed);
          if (pressed) {
            btn.classList.add("border-teal-500", "text-teal-600");
            btn.classList.remove("border-slate-300", "text-slate-600");
          } else {
            btn.classList.add("border-slate-300", "text-slate-600");
            btn.classList.remove("border-teal-500", "text-teal-600");
          }
        });
      }

      // Rendering Functions
      function renderProductCards(products) {
        productsContainer.innerHTML = "";
        if (products.length === 0) {
          productsContainer.innerHTML = '<p class="col-span-full text-center py-12 text-slate-600">No products match your filters.</p>';
          return;
        }
        products.forEach(product => {
          const productEl = document.createElement("article");
          productEl.className = "bg-white rounded-md p-4 shadow product-card flex flex-col";

          // image with placeholder & alt text from name
          const imgEl = document.createElement("img");
          imgEl.src = product.image;
          imgEl.alt = product.name + " - product image";
          imgEl.className = "object-contain h-48 w-full mb-3 rounded-md";
          imgEl.onerror = () => { imgEl.style.display = "none"; };
          productEl.appendChild(imgEl);

          // Product name
          const nameEl = document.createElement("h3");
          nameEl.textContent = product.name;
          nameEl.className = "font-semibold text-sm text-slate-900 mb-1 line-clamp-2";
          productEl.appendChild(nameEl);

          // Brands & categories tags
          const tagsContainer = document.createElement("div");
          tagsContainer.className = "mb-2 flex flex-wrap gap-2";
          product.category.forEach(cat => {
            const tag = document.createElement("span");
            tag.textContent = cat;
            tag.className = "bg-teal-100 text-teal-800 text-xs px-2 py-0.5 rounded-full select-none";
            tagsContainer.appendChild(tag);
          });
          productEl.appendChild(tagsContainer);

          // Market
          const marketEl = document.createElement("p");
          marketEl.className = "italic text-xs text-slate-600 mb-1";
          marketEl.textContent = `Mkt: ${product.market}`;
          productEl.appendChild(marketEl);

          // Price & Discount
          const priceContainer = document.createElement("div");
          priceContainer.className = "mb-3 text-sm font-semibold text-slate-900 flex items-baseline gap-2";
          if (product.discountPercent > 0 && product.originalPrice) {
            const discountedPrice = document.createElement("span");
            discountedPrice.textContent = `₹ ${product.price.toFixed(2)}`;
            discountedPrice.className = "text-teal-700";
            priceContainer.appendChild(discountedPrice);

            const originalPrice = document.createElement("span");
            originalPrice.textContent = `₹ ${product.originalPrice.toFixed(2)}`;
            originalPrice.className = "line-through text-slate-500 text-xs";
            priceContainer.appendChild(originalPrice);
          } else {
            priceContainer.textContent = `MRP ₹ ${product.price.toFixed(2)}`;
          }
          productEl.appendChild(priceContainer);

          // Stock status - dim Add To Cart if out stock
          const addToCartBtn = document.createElement("button");
          addToCartBtn.type = "button";
          addToCartBtn.textContent = product.stock ? "ADD TO CART" : "OUT OF STOCK";
          addToCartBtn.disabled = !product.stock;
          addToCartBtn.className = `${product.stock ? "bg-teal-600 hover:bg-teal-700" : "bg-gray-400 cursor-not-allowed"} text-white font-semibold py-2 rounded w-full transition-colors duration-200`;
          addToCartBtn.setAttribute("aria-label", (product.stock ? "Add " : "Out of stock ") + product.name + " to Cart");
          addToCartBtn.addEventListener("click", () => addToCart(product.id));
          productEl.appendChild(addToCartBtn);

          productsContainer.appendChild(productEl);
        });
      }

      function updatePagination(totalItems, currentPage) {
        pageNumbersContainer.innerHTML = "";
        const totalPages = Math.ceil(totalItems / PRODUCTS_PER_PAGE);
        // show up to 5 page numbers, centered around currentPage if possible
        let startPage = Math.max(1, currentPage - 2);
        let endPage = Math.min(totalPages, startPage + 4);
        if (endPage - startPage < 4) {
          startPage = Math.max(1, endPage - 4);
        }
        for (let i = startPage; i <= endPage; i++) {
          const btn = document.createElement("button");
          btn.type = "button";
          btn.textContent = i;
          btn.className = `px-3 py-1 rounded ${i === currentPage ? "bg-teal-600 text-white" : "bg-white border border-slate-300 hover:bg-slate-200"}`;
          btn.setAttribute("aria-current", i === currentPage ? "page" : "false");
          btn.addEventListener("click", () => {
            currentPage = i;
            renderFilteredSortedPaginated();
          });
          pageNumbersContainer.appendChild(btn);
        }
        prevPageBtn.disabled = currentPage === 1;
        nextPageBtn.disabled = currentPage >= totalPages;
      }

      // Filters handlers
      function onFiltersChange() {
        // update filters object from UI inputs
        // brands
        filters.brands = new Set(Array.from(brandCheckboxes).filter(cb => cb.checked).map(cb => cb.value));
        // price
        filters.priceMin = priceMinInput.value ? parseFloat(priceMinInput.value) : null;
        filters.priceMax = priceMaxInput.value ? parseFloat(priceMaxInput.value) : null;
        // discount
        filters.discountMin = discountMinInput.value ? parseFloat(discountMinInput.value) : 0;
        // excluding out of stock
        filters.excludeOutStock = excludeOutStockCheckbox.checked;

        currentPage = 1;
        renderFilteredSortedPaginated();
      }

      // Filtering brand list with search box
      function onBrandSearch() {
        const searchTerm = brandSearchInput.value.toLowerCase();
        brandCheckboxes.forEach(cb => {
          const label = cb.parentElement.textContent.toLowerCase();
          cb.parentElement.style.display = label.includes(searchTerm) ? "block" : "none";
        });
      }

      // Reset filters UI & state
      function clearFilters() {
        brandCheckboxes.forEach(cb => cb.checked = false);
        priceMinInput.value = "";
        priceMaxInput.value = "";
        discountMinInput.value = "";
        excludeOutStockCheckbox.checked = false;

        filters = {
          brands: new Set(),
          priceMin: null,
          priceMax: null,
          discountMin: 0,
          excludeOutStock: false,
        };
        currentPage = 1;

        renderFilteredSortedPaginated();
      }

      // Sorting handlers
      function onSortBtnClick(event) {
        const btn = event.currentTarget;
        const sortKey = btn.dataset.sort;
        if (sortKey === currentSort) return;
        currentSort = sortKey;
        updateSortButtons();
        currentPage = 1;
        renderFilteredSortedPaginated();
      }

      // Pagination buttons click handlers
      prevPageBtn.addEventListener("click", () => {
        if (currentPage > 1) {
          currentPage--;
          renderFilteredSortedPaginated();
        }
      });
      nextPageBtn.addEventListener("click", () => {
        const totalPages = Math.ceil(filteredProducts.length / PRODUCTS_PER_PAGE);
        if (currentPage < totalPages) {
          currentPage++;
          renderFilteredSortedPaginated();
        }
      });

      // Cart Management Functions

      // Load cart from localStorage or create empty if not exists
      function loadCart() {
        const cartJson = localStorage.getItem("perfume_cart");
        if (cartJson) {
          cart = JSON.parse(cartJson);
        } else {
          cart = {};
        }
        updateCartBadge();
      }

      // Save current cart state to localStorage
      function saveCart() {
        localStorage.setItem("perfume_cart", JSON.stringify(cart));
      }

      // Add product to cart or increase quantity if already added
      function addToCart(productId) {
        if (!cart[productId]) {
          cart[productId] = 1;
        } else {
          cart[productId]++;
        }
        saveCart();
        updateCartBadge();

        // Open cart modal to show newly added item
        openCart();
        renderCartItems();
      }

      // Remove product from cart
      function removeFromCart(productId) {
        delete cart[productId];
        saveCart();
        updateCartBadge();
        renderCartItems();
      }

      // Update product quantity in cart
      function updateQuantity(productId, newQty) {
        if (newQty < 1) return;
        cart[productId] = newQty;
        saveCart();
        updateCartBadge();
        renderCartItems();
      }

      // Update cart icon badge count
      function updateCartBadge() {
        const count = Object.values(cart).reduce((a,b) => a + b, 0);
        cartCountEl.textContent = count;
        if (count > 0) {
          cartBadge.textContent = count > 99 ? "99+" : count;
          cartBadge.classList.remove("hidden");
        } else {
          cartBadge.classList.add("hidden");
        }
      }

      // Open cart modal
      function openCart() {
        cartModal.classList.remove("hidden");
        document.body.style.overflow = "hidden"; // disable page scrolling
      }

      // Close cart modal
      function closeCart() {
        cartModal.classList.add("hidden");
        document.body.style.overflow = ""; // enable page scrolling
      }

      // Render cart items in modal
      function renderCartItems() {
        cartItemsContainer.innerHTML = "";
        const productIds = Object.keys(cart);
        if (productIds.length === 0) {
          emptyCartMsg.style.display = "block";
          cartTotalEl.textContent = "0.00";
          checkoutBtn.disabled = true;
          return;
        }
        emptyCartMsg.style.display = "none";

        let total = 0;
        productIds.forEach(pid => {
          const prod = allProducts.find(p => p.id == pid);
          if (!prod) return;

          const qty = cart[pid];
          total += prod.price * qty;

          const itemDiv = document.createElement("div");
          itemDiv.className = "flex items-center gap-3 border-b border-slate-200 pb-3";

          const img = document.createElement("img");
          img.src = prod.image;
          img.alt = prod.name + " image";
          img.className = "w-16 h-20 object-contain rounded-md flex-shrink-0";
          img.onerror = () => { img.style.display = "none"; };
          itemDiv.appendChild(img);

          const details = document.createElement("div");
          details.className = "flex-grow";

          const title = document.createElement("p");
          title.textContent = prod.name;
          title.className = "font-semibold text-sm text-slate-900 mb-1 line-clamp-2";
          details.appendChild(title);

          const priceQty = document.createElement("p");
          priceQty.textContent = `₹${prod.price.toFixed(2)} x ${qty} = ₹${(prod.price * qty).toFixed(2)}`;
          priceQty.className = "text-xs text-slate-700";
          details.appendChild(priceQty);

          itemDiv.appendChild(details);

          // Quantity controls
          const qtyControls = document.createElement("div");
          qtyControls.className = "flex flex-col gap-1 items-center";

          const qtyInput = document.createElement("input");
          qtyInput.type = "number";
          qtyInput.min = "1";
          qtyInput.value = qty;
          qtyInput.className = "w-12 border border-slate-300 rounded text-center text-sm focus:outline-none focus:ring-1 focus:ring-teal-500";
          qtyInput.addEventListener("change", (e) => {
            let newVal = parseInt(e.target.value);
            if (isNaN(newVal) || newVal < 1) {
              e.target.value = qty; // reset invalid
              return;
            }
            updateQuantity(pid, newVal);
          });
          qtyControls.appendChild(qtyInput);

          const removeBtn = document.createElement("button");
          removeBtn.type = "button";
          removeBtn.textContent = "Remove";
          removeBtn.className = "text-xs text-red-600 hover:underline";
          removeBtn.addEventListener("click", () => removeFromCart(pid));
          qtyControls.appendChild(removeBtn);

          itemDiv.appendChild(qtyControls);

          cartItemsContainer.appendChild(itemDiv);
        });
        cartTotalEl.textContent = total.toFixed(2);
        checkoutBtn.disabled = false;
      }

      // Debounce utility for search input
      function debounce(func, wait) {
        let timeout;
        return function(...args) {
          clearTimeout(timeout);
          timeout = setTimeout(() => func.apply(this, args), wait);
        };
      }

      // Page render based on current filters and sorting
      let filteredProducts = [];
      function renderFilteredSortedPaginated() {
        filteredProducts = filterProducts(allProducts);
        totalCountEl.textContent = filteredProducts.length;
        updatePagination(filteredProducts.length, currentPage);
        const paginated = paginateProducts(sortProducts(filteredProducts, currentSort), currentPage);
        renderProductCards(paginated);
        shownCountEl.textContent = paginated.length;
      }

      // Initialization of events
      function init() {
        // Brands checkboxes change
        brandCheckboxes.forEach(cb => cb.addEventListener("change", onFiltersChange));
        // Filter inputs change
        priceMinInput.addEventListener("input", onFiltersChange);
        priceMaxInput.addEventListener("input", onFiltersChange);
        discountMinInput.addEventListener("input", onFiltersChange);
        excludeOutStockCheckbox.addEventListener("change", onFiltersChange);
        clearFiltersBtn.addEventListener("click", () => {
          clearFilters();
          brandSearchInput.value = "";
        });

        // Brand search input debounce 
        brandSearchInput.addEventListener("input", debounce(onBrandSearch, 200));

        // Sort buttons
        sortButtons.forEach(btn => btn.addEventListener("click", onSortBtnClick));

        // Cart button & modal
        cartBtn.addEventListener("click", () => {
          openCart();
          renderCartItems();
        });
        closeCartBtn.addEventListener("click", closeCart);
        checkoutBtn.addEventListener("click", () => {
          alert("Thank you for your purchase! Cart checkout functionality can be implemented here.");
          cart = {};
          saveCart();
          updateCartBadge();
          renderCartItems();
          closeCart();
        });

        window.addEventListener("keydown", (e) => {
          if (e.key === "Escape" && !cartModal.classList.contains("hidden")) {
            closeCart();
          }
        });

        // Initial render
        loadCart();
        updateSortButtons();
        renderFilteredSortedPaginated();
      }

      // Run initialization on page load
      document.addEventListener("DOMContentLoaded", init);
    })();
  </script>
</body>
</html>